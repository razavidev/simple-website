.wrapper.head {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 500;
  border-bottom: 1px solid gray;
  font-size: 1.1em;

  @media (min-width: $sm) and (max-width: $lg) {
      font-size: 1.3em;
  }

  @media (min-width: $xxl) {
    font-size: 1.3em;
  }

  &.stick {
    position: fixed;
    width: 100%;
    top: -100px;
    left: 0;
    right: 0;
    background-color: var(--bg-clr4);
    transform: translateY(100px);
    transition: background 200ms ease;
    box-shadow: 0px 2px 15px 0 #0005;

    header .menu-btn span {
      background-color: var(--clr1);
    }
    header .title {
      color: var(--clr1);
    }

    header .lang-toggle {
      .active-lang {
        color: var(--clr1) !important;
        border: 2px solid var(--bg-clr1) !important;
      }

      &.open .active-lang {
        border: none !important;
        border-bottom: 2px solid var(--bg-clr1) !important;
      }
    }

    header .theme-toggle {
      color: var(--clr1) !important;
    }
  }

  header {
    display: flex;
    align-items: center;
    justify-content: center;
    height: var(--header-height);
    // background-color: red;
    color: var(--clr2);
    // color: inherit;
    padding-left: 0.8em;

    @import "./HumbargerMenu";

    .menu-btn span {
      background-color: var(--clr2);
    }

    .right-buttons {
      display: flex;
      align-items: center;
      // background-color: blue;
      margin-left: auto;
      cursor: pointer;
      height: var(--header-height);
      user-select: none;
      font-size: 1.1em;

      .theme-toggle {
        cursor: pointer;
        outline: none;
        border: none;
        background-color: transparent;
        color: inherit;
        font-size: 1.5em;
        margin: 0 0.5em;
        margin-top: 0.25em;

        &:hover {
          opacity: 0.8;
        }
        &:active {
          opacity: 1;
        }
      }

      .lang-toggle {
        // align-self: flex-start;
        user-select: none;
        display: flex;
        flex-direction: column;
        border-radius: 0.2em;
        height: 0.4em + 0.93em + 0.4em;
        overflow: hidden;
        transition: 0.2s background-color;
        color: inherit;

        &.open {
          height: auto;
          margin-top: 2.6em;
          background-color: var(--bg-clr2);
          // box-shadow: 0 5px 7px -1px var(--bg-clr1);
          // box-shadow: -1px -1px -1px -1px var(--bg-clr1);
          border: 1px solid var(--bg-clr1);
          .active-lang {
            border: none;
            border-bottom: 2px solid var(--bg-clr1);
            color: var(--clr1);
          }
        }

        .active-lang {
          border-radius: 0.2em;
          border: 2px solid var(--clr2);
          padding: 0 0.2em;
          // background-color: lightgreen;
          font-size: 0.93em;
          display: flex;
          align-items: center;

          &:hover {
            opacity: 0.8;
          }
        }

        button {
          border-radius: 0;
          outline: none;
          border: none;
          padding: 0.4em 0.9em;
          background-color: transparent;
          margin: 0 0.2em;
          // display: none;
          cursor: pointer;
          font-size: 0.8em;

          &:last-child {
            border-top: 1px solid #aaa;
          }
        }
      }
    }

    .title {
      display: inline;
      line-height: 0.9em;
      font-size: 2em;
      font-family: "Trebuchet MS", "Lucida Sans Unicode", "Lucida Grande",
        "Lucida Sans", Arial, sans-serif;
      border: none;
      outline: transparent;
      position: relative;
      user-select: none;
      -webkit-user-select: none;
      touch-action: manipulation;
      // margin-left: 0.4em;
      color: inherit;

      a {
        color: inherit;
      }

      &.glitch:after {
        animation: 0.9s glitch 2;
        animation-timing-function: steps(2, end);
      }

      &::after {
        --slice-0: inset(50% 50% 50% 50%);
        --slice-1: inset(80% -100% 0 0);
        --slice-2: inset(50% -100% 30% 0);
        --slice-3: inset(10% -100% 85% 0);
        --slice-4: inset(40% -100% 43% 0);
        --slice-5: inset(80% -100% 5% 0);

        content: "RazaviDev";
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        color: white;
        background: linear-gradient(
          45deg,
          transparent 3%,
          black 5%,
          transparent 5%,
          black 5%
        );
        text-shadow: -3px -3px 0px #666, 3px 3px 0px #999;
        clip-path: var(--slice-0);
      }

      //   &:hover::after {
      //     animation: 1s glitch;
      //     animation-timing-function: steps(2, end);
      //   }

      @keyframes glitch {
        0% {
          clip-path: var(--slice-1);
          transform: translate(-20px, -10px);
        }
        10% {
          clip-path: var(--slice-3);
          transform: translate(10px, 10px);
        }
        20% {
          clip-path: var(--slice-1);
          transform: translate(-10px, 10px);
        }
        30% {
          clip-path: var(--slice-3);
          transform: translate(0px, 5px);
        }
        40% {
          clip-path: var(--slice-2);
          transform: translate(-5px, 0px);
        }
        50% {
          clip-path: var(--slice-3);
          transform: translate(5px, 0px);
        }
        60% {
          clip-path: var(--slice-4);
          transform: translate(5px, 10px);
        }
        70% {
          clip-path: var(--slice-2);
          transform: translate(-10px, 10px);
        }
        80% {
          clip-path: var(--slice-5);
          transform: translate(20px, -10px);
        }
        90% {
          clip-path: var(--slice-1);
          transform: translate(-10px, 0px);
        }
        100% {
          clip-path: var(--slice-1);
          transform: translate(0);
        }
      }
    }

    .menu {
      top: calc(var(--header-height) + 0.09em);
      min-height: 40vh;
      gap: 2.5em !important;
      position: absolute;
      display: flex;
      flex-direction: column;
      background-color: var(--bg-clr4);
      padding: 0.5em 1.5em;
      padding-right: 2.5em;
      right: -100%;
      transition: all 0.2s ease;
      backdrop-filter: blur(5px);
      color: var(--clr1);

      &.open {
        right: 0;
      }

      a {
        // line-height: 2em;
        position: relative;
        color: inherit;

        &:hover::before,
        a.active::before {
          background-color: var(--bg-clr1);
        }

        &:before {
          content: "";
          width: 4px;
          height: 8px;
          background-color: transparent;
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          left: -10px;
        }
      }
    }
  }

  @media (min-width: $xl) {
    header {
      justify-content: space-between;

      .menu-btn {
        display: none;
      }

      .right-buttons {
        margin-left: 0;
      }

      .menu {
        position: static;
        top: 0;
        left: 0;
        padding: 0;
        padding-right: 0.5em;
        flex-direction: row;
        align-items: center;
        backdrop-filter: blur(0px);
        background-color: transparent;
        gap: 2em;
        min-height: var(--header-height);

        a {
          color: var(--clr2);
          font-size: 1.1em;

          &:hover::before {
            background-color: var(--bg-clr2);
          }
        }
      }
    }

    &.stick {
      header {
        .menu {
          a {
            color: var(--clr1);

            &::before {
              background-color: transparent;
            }

            &:hover::before {
              background-color: var(--bg-clr1);
            }
          }
        }
      }
    }
  }
}
